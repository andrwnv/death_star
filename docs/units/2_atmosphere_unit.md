# 2. Генератор атмосферы

Отвечает за состав и стабильность атмосферы внутри Звезды Смерти.

Сообщает о себе следующую информацию:
1. Прочность (в процентах). Целостность нарушается при прочности 30 процентов.
2. Текущее атмосферное давление в атмосферах.
3. Текущая температура в цельсиях.
4. Текущая влажность в процентах.
5. Работают ли в данный момент аппараты балансировки атмосферного давления (15 блоков).

## 2.1. Аппарат балансировки атмосферного давления
Объединение из 15 аппаратов, каждый из которых мониторит отдельный сектор Звезды Смерти.
Следит за стабильностью давления в каждом из секторов/блоков. Докачивает/откачивает при необходимости.  

Сообщает о себе следующую информацию:
1. Состояние каждого из подблоков.

Каждый из подблоков сообщает следующую информацию:
1. Прочность (в процентах).
2. Работает ли в данный момент. Аппарат продолжает функционировать, пока прочность выше 20 процентов.
3. Сектор ответственности (в текстовом виде, н-р "система суперлазера", и уникальный идентификатор).
4. Состояние BB-E8E3 (работает или нет).
5. Состояние BT-0010 (работает или нет).

Если давление не в норме, работа подконтрольного сектора приостанавливается.  
Если температура не в норме, работа подконтрольного сектора приостанавливается.  
Приостановка работы сектора трактуется как остановка всех позитивных сценариев (н-р, накопление импульса оптической системы уничтожения прекратится), при этом негативные сценарии не запускаются (н-р, не считается что генератор высокоинтенсивного поля вышел из строя, и оптическая система уничтожения разогревается из-за этого).  

### 2.1.1. Устройство стабилизации давления BB-E8E3
Компонент аппарата балансировки атмосферного давления. Отвечает за наличие в секторе стабильного газового состава, позволяющего дышать.

Сообщает о себе следующую информацию:
1. Прочность (в процентах).
2. Работает ли в данный момент. Аппарат продолжает функционировать, пока прочность выше 20 процентов.
3. Можно ли дышать в секторе.
4. Время до стабилизации атмосферы в мс (если атмосфера стабильна, то 0).
5. Текущее атмосферное давление (в мм рт. ст. Норма - 750)
5. Состояние атмосферы:
    1. Объём С02 (в процентах. Норма - менее 3%, при работе устройства держится на уровне 0.02%).
    2. Объём 02 (в процентах. Норма - от 17 до 22%, при работе устройства держится на уровне 20%).
    3. Объём N2 (в процентах. При работе устройства поддерживается на уровне 78%).
    4. Объём остальных газов (в процентах).

Если блок в рабочем состоянии, давление стабилизируется со скоростью 50 мм рт. ст. в секунду. Содержание воздуха стабилизируется через минуту после стабилизации давления.  
Если блок сломан, в зависимости от состояния сектора:
1. Если внешняя целостность сектора нарушена (прочность сектора меньше или равна 30), атмосферное давление начинает падать со скоростью прямо пропорционально повреждениям сектора. Скорость падения высчитывается по формуле 0.1 * (100/x) атмосферы в секунду, где x - прочность сектора.  
2. Если внешняя целостность сектора не нарушена, атмосферное давление падает со скоростью, высчитываемой из п. 1 и домноженной на коэффициент 0.01. При этом уровень С02 растёт со скоростью 1% в минуту. При достижении 5% работа подконтрольного сектора приостанавливается.

### 2.1.2. Устройство стабилизации температуры BT-0010
Компонент аппарата балансировки атмосферного давления. Отвечает за текущую температуру (обогрев, охлаждение) сектора. Его задача - поддерживать температуру около 24 градусов по цельсию. BT-0010 устанавливает температуру со скоростью 50 градусов в минуту.

Сообщает о себе следующую информацию:
1. Прочность (в процентах).
2. Работает ли в данный момент. Аппарат продолжает функционировать, пока прочность выше 50 процентов.
3. Текущая температура в секторе.
4. Время до стабилизации температуры в мс (если температура стабильна, то 0).

Не функционирует, если не работает BB-E8E3. Если сектор находится на солнечной стороне, при отказе BT-0010 температура поднимается до 120. Если сектор находится на противоположной солнечной стороне, температура падает до -160.

### 2.1.3. Устройство управления влажностью CGH-C8C7
Компонент аппарата балансировки атмосферного давления. Контролирует, чтобы влажность в секторе была установлена в диапазоне от 50 до 70 процентов - в целях защиты от статики.  
Если влажность ниже 50 процентов, есть (50 - Х) вероятность, что прочность сектора упадёт на 1 процент из-за повреждения приборов. Х - текущая влажность.  
Если влажность выше 70 процентов, есть (Х - 70) вероятность, что прочность сектора упадёт на 5 процентов из-за проникновения в приборы влаги. Х - текущая влажность.  

Сообщает о себе:
1. Прочность (в процентах).
2. Работает ли в данный момент. Аппарат продолжает функционировать, пока прочность выше 27 процентов.
3. Текущая влажность в секторе.
4. Время до стабилизации влажности в мс (если влажность стабильна, то 0).

Не функционирует, если не работает BB-E8E3. При отказе CGH-C8C7, если сектор находится на солнечной стороне, влажность поднимается до 99%. Если сектор находится на противоположной солнечной стороне, влажность падает до 50%. При нарушении внешней целостности сектора влажность падает прямо пропорционально текущему атмосферному давлению.


